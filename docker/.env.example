# =============================================================================
# DOT-Copilot Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# =============================================================================

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENVIRONMENT=development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database
POSTGRES_DB=appdb
POSTGRES_USER=appuser
POSTGRES_PASSWORD=                    # REQUIRED: Strong password (min 16 chars)
DATABASE_URL=postgresql://appuser:YOUR_PASSWORD@database:5432/appdb?schema=public

# MongoDB (Optional)
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=                  # REQUIRED: Strong password (min 16 chars)
MONGO_DATABASE=appdb

# =============================================================================
# CACHE & SESSION
# =============================================================================
# Redis
REDIS_PASSWORD=                       # REQUIRED: Strong password (min 16 chars)
REDIS_URL=redis://:YOUR_PASSWORD@redis:6379/0

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# Auth0 Configuration
AUTH0_DOMAIN=                         # REQUIRED: your-tenant.auth0.com
AUTH0_CLIENT_ID=                      # REQUIRED: Your Auth0 client ID
AUTH0_CLIENT_SECRET=                  # REQUIRED: Your Auth0 client secret
AUTH0_AUDIENCE=                       # REQUIRED: Your Auth0 API audience

# Application Secrets
SECRET_KEY=                           # REQUIRED: Random string (min 32 chars)
JWT_SECRET=                           # REQUIRED: Random string (min 32 chars)
JWT_REFRESH_SECRET=                   # REQUIRED: Random string (min 32 chars)

# Vault (Development Only)
VAULT_ROOT_TOKEN=                     # REQUIRED: Random string (min 32 chars)

# =============================================================================
# EXTERNAL API KEYS
# =============================================================================
# GitHub
GITHUB_TOKEN=                         # REQUIRED: GitHub Personal Access Token
GITHUB_READ_ONLY=0                    # 0=read/write, 1=read-only
GITHUB_TOOLSETS=all                   # all, repos, issues, prs

# Brave Search
BRAVE_API_KEY=                        # OPTIONAL: Brave Search API key

# Zapier
ZAPIER_API_KEY=                       # OPTIONAL: Zapier API key

# Apidog
APIDOG_TOKEN=                         # OPTIONAL: Apidog API token
APIDOG_PROJECT_ID=                    # OPTIONAL: Apidog project ID

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Grafana
GRAFANA_PASSWORD=                     # REQUIRED: Strong password (min 16 chars)

# =============================================================================
# AZURE CONFIGURATION (Production)
# =============================================================================
# Azure Storage
AZURE_STORAGE_CONNECTION_STRING=      # REQUIRED for production
AZURE_STORAGE_CONTAINER=uploads

# Azure Application Insights
APPINSIGHTS_INSTRUMENTATIONKEY=       # REQUIRED for production
APPLICATIONINSIGHTS_CONNECTION_STRING= # REQUIRED for production

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
FRONTEND_URL=http://localhost:3000
VITE_API_BASE_URL=http://localhost:3001/api

# =============================================================================
# NOTES
# =============================================================================
# 1. Generate strong passwords using: openssl rand -base64 32
# 2. Generate random secrets using: openssl rand -hex 32
# 3. Never use default passwords in production
# 4. Store production secrets in Azure Key Vault
# 5. Rotate secrets regularly (every 90 days)
# 6. Use different secrets for each environment (dev/staging/prod)
# 7. Limit API token permissions to minimum required
# 8. Enable MFA for all service accounts
# 9. Monitor for leaked secrets using tools like TruffleHog
# 10. Document secret rotation procedures

# =============================================================================
# QUICK START
# =============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Generate secrets: ./scripts/generate-secrets.sh (if available)
# 3. Fill in required values marked with REQUIRED
# 4. Verify configuration: docker-compose config
# 5. Start services: docker-compose up -d
# 6. Check logs: docker-compose logs -f

# =============================================================================
# SECURITY CHECKLIST
# =============================================================================
# [ ] All REQUIRED fields filled in
# [ ] No default passwords used
# [ ] Secrets are strong (min 32 characters)
# [ ] .env file is in .gitignore
# [ ] Production secrets stored in Key Vault
# [ ] API tokens have minimum required permissions
# [ ] MFA enabled for service accounts
# [ ] Secret rotation schedule documented
# [ ] Team trained on secret management
# [ ] Monitoring configured for secret leaks
